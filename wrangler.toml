name = "scheduled-summary"
main = "discord-scheduled-summary/worker-polling.js"
compatibility_date = "2024-11-23"

# Cron trigger: midnight UTC = 5pm MST daily
[triggers]
crons = ["0 0 * * *"]

# Environment variables (set via wrangler secret put)
# DISCORD_TOKEN
# APP_ID
# GUILD_ID
# CHANNEL_ID
# USER_ID
# SUMMARY_INTERVAL (in hours)
# SUMMARY_TIME_HOUR (0-23)

[build]
command = "echo 'No build step required'"

[observability]
[observability.logs]
enabled = true
head_sampling_rate = 1
invocation_logs = true
persist = true